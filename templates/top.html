<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MemeLytics</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Jersey+15&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Russo+One&display=swap" rel="stylesheet">
<link rel="stylesheet" href="/static/topp.css">
</head>
<body class="body">
    <header class="header">
        <img class="logo" src="/static/Group 167.svg" alt="Логотип">
        <h1 class="name" >MemeLytics</h1>
        <a href="/вход">
            <button
            class="button">Вход</button>
        </a>        
    </header>
<main>
    <div class="square"></div>
<h2 class="top10" >Топ-10 самых популярных мемов
</h2>
<h3 class="text1"> Выбрать всего 10 главных мемов десятилетия — задача непростая. Критерии отбора: узнаваемость, влияние, вклад в мемологию. С 2010 года мемы мало изменились, но стали «жить» меньше. Если раньше их было немного, и они казались элитарными (интернет был не так развит), то теперь мемов масса, но большинство «умирает» очень быстро. Мемы превратились в индустрию: их производят десятками в день, надеясь на успех. СМИ пишут о мемах, чтобы привлечь внимание, но по-настоящему популярными мемы становятся случайно.</h3>
<h4 class="text2">Итак, главные мемы десятилетия — в подборке только самые очевидные мемы:</h4>
<div class="squaretop1">
    <h5 class="first">1 место</h5>
    <img id="meme-img" src="" alt="Мем загрузится" class="первый">
</div>

<div class="squaretop2">
    <h6 class="second">2 место</h6>
    <img id="meme2-img" src="" alt="Мем загрузится" class="второй">
</div>

<div class="squaretop3">
    <img id="meme3-img" src="" alt="Мем загрузится" class="третий">
    <h6 class="third">3 место</h6>
</div>

<div class="squaretop4">
    <img id="meme4-img" src="" alt="Мем загрузится" class="четвертый">
    <h6 class="four">4 место</h6>
</div>

<div class="squaretop5">
    <img id="meme5-img" src="" alt="Мем загрузится" class="пятый">
    <h6 class="five">5 место</h6>
</div>

<div class="squaretop6">
    <img id="meme6-img" src="" alt="Мем загрузится" class="шестой">
    <h6 class="six" >6 место</h6>
</div>

<div class="squaretop7">
    <img id="meme7-img" src="" alt="Мем загрузится" class="седьмой">
    <h6 class="seven">7 место</h6>
</div>

<div class="squaretop8">
    <img id="meme8-img" src="" alt="Мем загрузится" class="восьмой">
    <h6 class="eight">8 место</h6>
</div>

<div class="squaretop9">
    <img id="meme9-img" src="" alt="Мем загрузится" class="девятый">
    <h6 class="nine">9 место</h6>
</div>

<div class="squaretop10">
    <img id="meme10-img" src="" alt="Мем загрузится" class="десятый">
    <h6 class="ten">10 место</h6>
</div>
</div>

<script>
async function loadMemes() {
    try {
        let response = await fetch("http://127.0.0.1:8080/get_unique_popular_memes");  // Поменяйте на правильный путь
        let data = await response.json();

        const memeElements = [
            "meme-img", "meme2-img", "meme3-img", "meme4-img", "meme5-img",
            "meme6-img", "meme7-img", "meme8-img", "meme9-img", "meme10-img"
        ];

        memeElements.forEach((id, index) => {
            const memeUrl = data[`meme${index + 1}_url`];
            const imgElement = document.getElementById(id);

            if (memeUrl) {
                imgElement.src = memeUrl;  // Устанавливаем URL для каждого изображения
            } else {
                imgElement.src = '';  // Убираем изображение, если его нет
            }
        });

    } catch (error) {
        console.error("Ошибка загрузки мемов:", error);

        // Если произошла ошибка, очищаем изображения
        const memeElements = [
            "meme-img", "meme2-img", "meme3-img", "meme4-img", "meme5-img",
            "meme6-img", "meme7-img", "meme8-img", "meme9-img", "meme10-img"
        ];

        memeElements.forEach(id => {
            document.getElementById(id).src = '';  // Убираем изображение
        });
    }
}

window.onload = loadMemes;
</script>
</main>


    <footer></footer>
</body>
</html>
